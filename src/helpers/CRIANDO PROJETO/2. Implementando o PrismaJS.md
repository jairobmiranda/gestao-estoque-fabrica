# üìå Benef√≠cios do Prisma.Js

O Prisma oferece diversos benef√≠cios para o desenvolvimento de aplica√ß√µes com banco de dados:

- **Type Safety**: O Prisma gera automaticamente tipos TypeScript para o seu esquema de banco de dados, garantindo seguran√ßa de tipos e reduzindo erros em tempo de compila√ß√£o.
- **Migrations**: Facilita a cria√ß√£o e gerenciamento de migra√ß√µes de banco de dados, permitindo versionar e aplicar mudan√ßas de forma controlada.
- **Query Builder**: Fornece uma API de consulta intuitiva e poderosa, que permite construir consultas complexas de forma simples e leg√≠vel.
- **Introspec√ß√£o**: Permite introspecionar um banco de dados existente e gerar automaticamente o esquema Prisma correspondente.
- **Documenta√ß√£o**: Possui uma documenta√ß√£o abrangente e exemplos pr√°ticos que facilitam o aprendizado e a implementa√ß√£o.
- **Comunidade Ativa**: Conta com uma comunidade ativa e suporte, o que facilita a resolu√ß√£o de problemas e a troca de conhecimento.

Esses benef√≠cios tornam o Prisma uma ferramenta poderosa e eficiente para trabalhar com bancos de dados em aplica√ß√µes Node.js.

# üßë‚Äçüíª Implementando o Prisma.JS

Este guia explica como adicionar o Prisma ao seu projeto.

## ‚úÖ 1. Instalar Prisma e Inicializar o Projeto

Neste caso iremos implementar utilizando um banco de dados SQLite.
Execute os seguintes comandos no terminal:

```bash
npm install prisma @prisma/client
npx prisma init --datasource-provider sqlite
```

Isso criar√° o diret√≥rio `prisma/` com o arquivo `schema.prisma`.

## ‚úÖ 2. Configurar o `schema.prisma`

Edite o arquivo `.env` adicionando a string de conex√£o (que no caso do SQLite, trata-se de um arquivo.db)

```env
DATABASE_URL="file:./dev.db"
```

Aplique a migra√ß√£o:

Lembre-se de trocar o XXX por um nome apropriado, que represente a mudan√ßa no banco de dados, sem utilizar espa√ßos ou caracteres especiais. Exemplo: `inicializacao-banco` ou `adicionado-tabela-atividades`

```bash
npx prisma migrate dev --name XXX
```

## ‚úÖ 3. Criar o `PrismaService`

Execute o comando para criar o servi√ßo do prisma

```bash
npx nest g service prisma --no-spec
```

`prisma.service.ts`

```typescript
import { Injectable, OnModuleDestroy, OnModuleInit } from "@nestjs/common";
import { PrismaClient } from "@prisma/client";

@Injectable()
export class PrismaService
  extends PrismaClient
  implements OnModuleInit, OnModuleDestroy
{
  async onModuleInit() {
    await this.$connect();
  }

  async onModuleDestroy() {
    await this.$disconnect();
  }
}
```

## ‚úÖ 4. Criar o `PrismaModule`

Execute o comando para criar o m√≥dulo do prisma

```bash
npx nest g module prisma --no-spec`
```

`prisma.module.ts`

```typescript
import { Module } from "@nestjs/common";
import { PrismaService } from "./prisma.service";

@Module({
  providers: [PrismaService],
  exports: [PrismaService],
})
export class PrismaModule {}
```
